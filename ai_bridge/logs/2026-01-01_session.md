# ì‘ì—… ë¡œê·¸ 2026-01-01

## ì„¸ì…˜ ì •ë³´
- ë‚ ì§œ: 2026-01-01
- ë‹´ë‹¹: Claude Desktop Opus (ì„ ì„)
- í”„ë¡œì íŠ¸: EDU-VICE-Attendance

---

## âœ… ì™„ë£Œëœ ì‘ì—…

### 1. ë¬¸ì œ ë¶„í•  ê¸°ëŠ¥ ë³µêµ¬ (problem_split_service.dart)

**ë¬¸ì œì :**
- ê¸°ì¡´ ì½”ë“œê°€ Claudeí•œí…Œ í”½ì…€ ì¢Œí‘œ ì§ì ‘ ìš”ì²­ â†’ ë¶€ì •í™•
- p6, p7ì—ì„œ 100% ì„±ê³µí–ˆë˜ `ocr_test_page.dart` ë¡œì§ê³¼ ë‹¤ë¦„

**í•´ê²°:**
- `ocr_test_page.dart`ì˜ ì„±ê³µ ë¡œì§ ê·¸ëŒ€ë¡œ ë³µì‚¬
- íŒŒì´í”„ë¼ì¸:
  1. Claude Vision â†’ ì„¹ì…˜ bounds(%) ê°ì§€
  2. ì„¹ì…˜ë³„ crop
  3. ML Kit OCR â†’ ë¬¸ì œ ë²ˆí˜¸ ì‹¤ì¸¡ ì¢Œí‘œ(px)
  4. ë¯¸ê°ì§€ ì¬ê²€ì‚¬ (í‰ê·  ê°„ê²© ë³´ê°„)
  5. ê° ë¬¸ì œë³„ crop + ì €ì¥

**ìˆ˜ì • íŒŒì¼:**
- `lib/features/my_books/services/problem_split_service.dart` (ì „ì²´ ì¬ì‘ì„±)

---

### 2. ì„ì‹œ íŒŒì¼ ì‚­ì œ ë²„ê·¸ ìˆ˜ì • (problem_camera_page.dart)

**ë¬¸ì œì :**
- CunningDocumentScannerê°€ ì„ì‹œ íŒŒì¼ ë°˜í™˜
- Navigator.pop() í›„ ì„ì‹œ íŒŒì¼ ì‚­ì œë¨
- splitProblems() í˜¸ì¶œ ì‹œ íŒŒì¼ ì—†ìŒ

**í•´ê²°:**
- ì´¬ì˜ ê²°ê³¼ ë°›ìë§ˆì ì˜êµ¬ ì €ì¥ì†Œë¡œ ì¦‰ì‹œ ë³µì‚¬
- ë³µì‚¬ëœ íŒŒì¼ë¡œ ë¶„í•  ì§„í–‰

**ìˆ˜ì • íŒŒì¼:**
- `lib/features/my_books/pages/problem_camera_page.dart`

**í•µì‹¬ ì½”ë“œ:**
```dart
// ì„ì‹œ íŒŒì¼ â†’ ì˜êµ¬ ì €ì¥
final documentsDir = await getApplicationDocumentsDirectory();
final capturesDir = Directory('${documentsDir.path}/captures/${widget.bookId}/pages');
savedImagePath = '${capturesDir.path}/capture_$timestamp.jpg';
final imageFile = await tempImageFile.copy(savedImagePath);
```

---

### 3. ì´¬ì˜ ê¸°ë¡ ì´ˆê¸°í™” ë²„ê·¸ ìˆ˜ì • (book_detail_page.dart)

**ë¬¸ì œì :**
- "ì´¬ì˜ ê¸°ë¡ ì´ˆê¸°í™”" í•´ë„ ë¶„í• ëœ ë¬¸ì œ + ì´ë¯¸ì§€ íŒŒì¼ ë‚¨ì•„ìˆìŒ
- `clearCaptureRecords()`ê°€ captureRecordsë§Œ ì‚­ì œ

**í•´ê²°:**
- 3ë‹¨ê³„ ì‚­ì œë¡œ í™•ì¥:
  1. captureRecords DB ì‚­ì œ
  2. problems store ì‚­ì œ (ProblemRepository.deleteProblemsForBook)
  3. captures/{bookId}/ í´ë” ì‚­ì œ

**ìˆ˜ì • íŒŒì¼:**
- `lib/features/my_books/pages/book_detail_page.dart`
- import ì¶”ê°€: `path_provider`

---

### 4. import ê²½ë¡œ ìˆ˜ì •

**ë¬¸ì œì :**
- `problem_split_service.dart`ì—ì„œ claude_api_service ê²½ë¡œ ì˜¤ë¥˜
- `../../shared/services/` â†’ `../../../shared/services/`

**ìˆ˜ì • íŒŒì¼:**
- `lib/features/my_books/services/problem_split_service.dart`

---

### 5. CLAUDE.md ìƒì„±

**ë‚´ìš©:**
- í”„ë¡œì íŠ¸ ê°œìš”
- íŒŒì¼ë³„ ìƒ‰ì¸ (í•µì‹¬ íŒŒì¼ ë§µ)
- ë°ì´í„° êµ¬ì¡°
- ë¬¸ì œ ë¶„í•  íŒŒì´í”„ë¼ì¸
- ê°œë°œ í™˜ê²½ ëª…ë ¹ì–´
- ì‘ì—… ê·œì¹™

**ìƒì„± íŒŒì¼:**
- `C:\gitproject\EDU-VICE-Attendance\CLAUDE.md`

---

## ğŸ”œ ë‹¤ìŒ ì‘ì—… (í…ŒìŠ¤íŠ¸ í•„ìš”)

### 1. ë¬¸ì œ ë¶„í•  í…ŒìŠ¤íŠ¸
```bash
flutter run -d RFCY40MNBLL
```

**í™•ì¸í•  ë¡œê·¸:**
```
[ProblemSplit] ========== ë¬¸ì œ ë¶„í•  ì‹œì‘ ==========
[ProblemSplit] Step 1: Claude Vision ë¶„ì„...
[ProblemSplit] ê°ì§€ëœ ì„¹ì…˜: [A, B, C, D]
[OCR] A: 1 ë°œê²¬ "1. ..." y=xxx
[ProblemSplit] âœ“ A.1 ì €ì¥
[ProblemSplit] ========== ë¶„í•  ì™„ë£Œ: Nê°œ ==========
```

### 2. ì´ˆê¸°í™” í…ŒìŠ¤íŠ¸
- ì´¬ì˜ ê¸°ë¡ ì´ˆê¸°í™” í›„:
  - ëª©ë¡ ì‚¬ë¼ì§€ëŠ”ì§€
  - ë¬¸ì œ ì¹©ë“¤ ì‚¬ë¼ì§€ëŠ”ì§€
  - ì´ë¯¸ì§€ íŒŒì¼ ì‚­ì œë˜ëŠ”ì§€

**í™•ì¸í•  ë¡œê·¸:**
```
[BookDetail] ë¶„í• ëœ ë¬¸ì œ DB ì‚­ì œ ì™„ë£Œ
[BookDetail] ì´ë¯¸ì§€ í´ë” ì‚­ì œ ì™„ë£Œ: .../captures/{bookId}
```

---

## ğŸ“ ì°¸ê³ ì‚¬í•­

### Claude Code CLI continue ëª…ë ¹ì–´
```json
{
  "scripts": {
    "claude:opus": "claude --model claude-opus-4-20250514 --dangerously-skip-permissions",
    "claude:opus:c": "claude --model claude-opus-4-20250514 --dangerously-skip-permissions -c"
  }
}
```

---

## ìˆ˜ì •ëœ íŒŒì¼ ëª©ë¡
1. `lib/features/my_books/services/problem_split_service.dart`
2. `lib/features/my_books/pages/problem_camera_page.dart`
3. `lib/features/my_books/pages/book_detail_page.dart`
4. `CLAUDE.md` (ì‹ ê·œ)
