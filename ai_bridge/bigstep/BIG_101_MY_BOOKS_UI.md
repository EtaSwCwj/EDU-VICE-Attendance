# BIG_101: ë‚´ ì±… ë“±ë¡ UI ì‹œìŠ¤í…œ êµ¬ì¶•

> ìƒì„±ì¼: 2025-12-27
> ëª©í‘œ: ìœ ì €ê°€ ì±…ì„ ë“±ë¡í•˜ê³  ê´€ë¦¬í•˜ëŠ” UI ì‹œìŠ¤í…œ êµ¬í˜„ (ë¡œì»¬ ìš°ì„ )

---

## âš ï¸ ì‘ì„± ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ (Desktop Opus í•„ìˆ˜ í™•ì¸!)

> ì´ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì™„ë£Œ ì „ì— ìŠ¤ëª°ìŠ¤í… ì‘ì„± ê¸ˆì§€!

### ê¸°ë³¸ í™•ì¸
- [x] ë¡œì»¬ ì½”ë“œ í™•ì¸í–ˆë‚˜? (view ë„êµ¬ë¡œ ì‹¤ì œ íŒŒì¼ ì—´ì–´ë´„)
- [x] ìˆ˜ì •í•  íŒŒì¼/ì¤„ ë²ˆí˜¸ íŠ¹ì •í–ˆë‚˜?
- [x] ì‚­ì œí•  ì½”ë“œ vs ì¶”ê°€í•  ì½”ë“œ êµ¬ì²´ì ìœ¼ë¡œ ì‘ì„±í–ˆë‚˜?
- [x] **ìƒˆ í•¨ìˆ˜/ë¡œì§ì— safePrint ë¡œê·¸ ì¶”ê°€ ì§€ì‹œí–ˆë‚˜?**

### í…ŒìŠ¤íŠ¸ í™˜ê²½
- [x] í…ŒìŠ¤íŠ¸ ê³„ì • ë¦¬ì…‹ í•„ìš”í•œê°€? â†’ **ë¶ˆí•„ìš”** (ë¡œì»¬ ì €ì¥ í…ŒìŠ¤íŠ¸)
- [x] **í…ŒìŠ¤íŠ¸ ê³„ì • í˜„ì¬ ìƒíƒœ í™•ì¸í–ˆë‚˜?** â†’ í•´ë‹¹ ì—†ìŒ
- [x] ë¹Œë“œ í•„ìš”í•œê°€? â†’ **í•„ìš”** (UI í™•ì¸)
- [x] ë“€ì–¼ ë¹Œë“œ í•„ìš”í•œê°€? â†’ **ë¶ˆí•„ìš”** (1ê°œ ê¸°ê¸°ë¡œ ì¶©ë¶„)

### í”Œë¡œìš° í™•ì¸
- [x] **ì§„ì… ê²½ë¡œ ì „ì²´ í™•ì¸í–ˆë‚˜?** â†’ /my-books ìƒˆ ê²½ë¡œ
- [x] **ì˜í–¥ ë²”ìœ„ í™•ì¸í–ˆë‚˜?** â†’ app_router.dart ë¼ìš°íŠ¸ ì¶”ê°€

### ì˜ì¡´ì„± í™•ì¸
- [x] ìƒˆë¡œ import í•„ìš”í•œ íŒ¨í‚¤ì§€ ìˆë‚˜? â†’ ì—†ìŒ (ê¸°ì¡´ íŒ¨í‚¤ì§€ ì‚¬ìš©)
- [x] schema/ëª¨ë¸ ë³€ê²½ í•„ìš”í•œê°€? â†’ ì—†ìŒ (ë¡œì»¬ Sembast ì‚¬ìš©)

### ì—ëŸ¬ ì¼€ì´ìŠ¤
- [x] ì‹¤íŒ¨ ì‹œ ì‚¬ìš©ìì—ê²Œ ì–´ë–»ê²Œ ì•Œë ¤ì£¼ë‚˜? â†’ ìŠ¤ë‚µë°”
- [x] ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ ì²˜ë¦¬ ìˆë‚˜? â†’ í•´ë‹¹ ì—†ìŒ (ë¡œì»¬ ì €ì¥)

### ì‘ì—… ì—°ê²°
- [x] ì´ì „ BIGì—ì„œ ë¯¸ì™„ë£Œëœ ê²ƒ ìˆë‚˜? â†’ ì—†ìŒ
- [x] ì´ ì‘ì—…ì´ ë‹¤ìŒ ì‘ì—…ì˜ ì„ í–‰ ì¡°ê±´ì¸ê°€? â†’ ì •ë‹µì§€ ë“±ë¡ UIì˜ ì„ í–‰ ì¡°ê±´

---

## âš ï¸ í•„ìˆ˜: OpusëŠ” ì§ì ‘ ì‘ì—… ê¸ˆì§€!
ê°€ê¸‰ì  ì½”ë“œ/íŒŒì¼ ì‘ì—…ì€ Sonnet í˜¸ì¶œí•´ì„œ ì‹œí‚¬ ê²ƒ.

### Sonnet í˜¸ì¶œ ë°©ë²•
```bash
claude --model claude-sonnet-4-20250514 --dangerously-skip-permissions -p "ì‘ì—… ë‚´ìš©"
```

### ì˜ˆì™¸ (Opusê°€ ì§ì ‘ í•´ë„ ë˜ëŠ” ê²ƒ)
- AWS CLI (ì¸ì¦ í•„ìš”)
- amplify ëª…ë ¹ì–´ (ëŒ€í™”í˜• ì…ë ¥ í•„ìš”)

---

## í™˜ê²½

- í”„ë¡œì íŠ¸: C:\gitproject\EDU-VICE-Attendance
- Flutter ì•±: flutter_application_1/
- í° ë””ë°”ì´ìŠ¤: RFCY40MNBLL

---

## ğŸ¯ ê¸°ëŒ€ ê²°ê³¼ & í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

> **CP í™•ì¸ìš©**: ì´ ì‘ì—…ì´ ì„±ê³µí•˜ë©´ ì–´ë–»ê²Œ ë˜ëŠ”ì§€

### ê¸°ëŒ€ ê²°ê³¼
- `/my-books` ê²½ë¡œë¡œ "ë‚´ ì±… ëª©ë¡" í˜ì´ì§€ ì§„ì… ê°€ëŠ¥
- "ìƒˆ ì±… ë“±ë¡í•˜ê¸°" ë²„íŠ¼ íƒ­ â†’ 4ë‹¨ê³„ ìœ„ìë“œ ì§„ì…
- ìœ„ìë“œ ì™„ë£Œ â†’ ì±… ëª©ë¡ì— ìƒˆ ì¹´ë“œ í‘œì‹œ
- ì±… ì¹´ë“œ íƒ­ â†’ ìƒì„¸ í˜ì´ì§€ + í˜ì´ì§€ ë§µ í‘œì‹œ

### í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤
```
1. ì•± ì‹¤í–‰ â†’ ì„¤ì •ì—ì„œ "ë‚´ ì±…" ë©”ë‰´ íƒ­ (ë˜ëŠ” /my-books ì§ì ‘ ì´ë™)
   â†’ ë¹ˆ ëª©ë¡ + "ìƒˆ ì±… ë“±ë¡í•˜ê¸°" ë²„íŠ¼ í‘œì‹œ

2. "ìƒˆ ì±… ë“±ë¡í•˜ê¸°" íƒ­ â†’ Step 1 (í‘œì§€ ì´¬ì˜) í™”ë©´
   â†’ ê°¤ëŸ¬ë¦¬ì—ì„œ ì•„ë¬´ ì´ë¯¸ì§€ ì„ íƒ

3. Step 2 (ì •ë³´ ì…ë ¥) â†’ ì œëª©/ì¶œíŒì‚¬/ê³¼ëª©/í•™ë…„/ì´í˜ì´ì§€ ì…ë ¥ â†’ "ë‹¤ìŒ"
   â†’ Step 3 (ìœ ì‚¬ ì±… ê²€ìƒ‰) í™”ë©´

4. Step 3 â†’ "ìƒˆë¡œ ë“±ë¡" ë²„íŠ¼ íƒ­
   â†’ Step 4 ì™„ë£Œ í™”ë©´

5. "ì™„ë£Œ" íƒ­ â†’ ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°
   â†’ ìƒˆë¡œ ë“±ë¡í•œ ì±… ì¹´ë“œ í‘œì‹œë¨

6. ì±… ì¹´ë“œ íƒ­ â†’ ìƒì„¸ í˜ì´ì§€
   â†’ í˜ì´ì§€ ë§µ (ì „ë¶€ íšŒìƒ‰) + "ì •ë‹µì§€ ë“±ë¡" ë²„íŠ¼ í‘œì‹œ
```

---

## ì°¸ê³ í•  ê¸°ì¡´ ì½”ë“œ

| ì°¸ê³  íŒŒì¼ | ìš©ë„ |
|-----------|------|
| `lib/features/textbook/textbook_main_page.dart` | ëª©ë¡ í˜ì´ì§€ íŒ¨í„´ (CustomScrollView) |
| `lib/features/textbook/book_camera_page.dart` | ì¹´ë©”ë¼/ê°¤ëŸ¬ë¦¬ ë¡œì§ |
| `lib/data/local/sembast_database.dart` | Sembast ë¡œì»¬ ì €ì¥ íŒ¨í„´ |
| `lib/app/app_router.dart` | ë¼ìš°íŠ¸ ì¶”ê°€ ìœ„ì¹˜ |
| `lib/shared/services/claude_api_service.dart` | AI ë¶„ì„ (í‘œì§€ì—ì„œ ì œëª© ì¶”ì¶œ) |

---

## ìƒì„±í•  íŒŒì¼ êµ¬ì¡°

```
lib/features/my_books/
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ my_books_page.dart          # ë‚´ ì±… ëª©ë¡
â”‚   â”œâ”€â”€ book_register_wizard.dart   # ì±… ë“±ë¡ ìœ„ìë“œ (4ë‹¨ê³„)
â”‚   â””â”€â”€ book_detail_page.dart       # ì±… ìƒì„¸ + í˜ì´ì§€ ë§µ
â”œâ”€â”€ widgets/
â”‚   â”œâ”€â”€ book_card.dart              # ì±… ì¹´ë“œ ìœ„ì ¯
â”‚   â””â”€â”€ page_map_widget.dart        # í˜ì´ì§€ ë§µ ì‹œê°í™”
â”œâ”€â”€ data/
â”‚   â””â”€â”€ local_book_repository.dart  # Sembast ì €ì¥ì†Œ
â””â”€â”€ models/
    â””â”€â”€ local_book.dart             # ë¡œì»¬ ì±… ëª¨ë¸
```

---

## ìŠ¤ëª°ìŠ¤í… (ì§„í–‰ ì‹œ ì²´í¬ë°•ìŠ¤ ì—…ë°ì´íŠ¸!)

### 1. í´ë” ë° ëª¨ë¸ ìƒì„±
- [ ] `lib/features/my_books/` í´ë” êµ¬ì¡° ìƒì„±
- [ ] `models/local_book.dart` ìƒì„±:
```dart
class LocalBook {
  final String id;
  final String title;
  final String publisher;
  final String subject;      // ENGLISH, MATH, KOREAN, SCIENCE
  final String grade;        // ì¤‘1, ì¤‘2, ì¤‘3, ê³ 1...
  final int totalPages;
  final String? edition;     // íŒ/ì‡„
  final String? coverImagePath;  // ë¡œì»¬ ì´ë¯¸ì§€ ê²½ë¡œ
  final List<int> registeredPages;  // ì •ë‹µì§€ ë“±ë¡ëœ í˜ì´ì§€ë“¤
  final DateTime createdAt;
  final DateTime updatedAt;
  
  // fromJson, toJson, copyWith í¬í•¨
}
```

### 2. Sembast ì €ì¥ì†Œ ìƒì„±
- [ ] `data/local_book_repository.dart` ìƒì„±
- [ ] ê¸°ì¡´ `sembast_database.dart` íŒ¨í„´ ì°¸ê³ 
- [ ] CRUD ë©”ì„œë“œ: `saveBook`, `getBooks`, `getBook`, `deleteBook`, `updateBook`
- [ ] safePrint ë¡œê·¸ ì¶”ê°€: `[LocalBookRepo] ì €ì¥: $title`, `[LocalBookRepo] ì¡°íšŒ: ${books.length}ê°œ`

### 3. ë‚´ ì±… ëª©ë¡ í˜ì´ì§€ ìƒì„±
- [ ] `pages/my_books_page.dart` ìƒì„±
- [ ] ê¸°ì¡´ `textbook_main_page.dart` íŒ¨í„´ ì°¸ê³  (CustomScrollView + SliverList)
- [ ] ìƒë‹¨: "ìƒˆ ì±… ë“±ë¡í•˜ê¸°" ë²„íŠ¼ â†’ `/my-books/register`
- [ ] í•˜ë‹¨: ì±… ì¹´ë“œ ê·¸ë¦¬ë“œ (2ì—´)
- [ ] ë¹ˆ ìƒíƒœ UI: "ë“±ë¡ëœ ì±…ì´ ì—†ìŠµë‹ˆë‹¤"
- [ ] safePrint ë¡œê·¸: `[MyBooks] ì§„ì…`, `[MyBooks] ì±… ${books.length}ê°œ ë¡œë“œ`

### 4. ì±… ì¹´ë“œ ìœ„ì ¯ ìƒì„±
- [ ] `widgets/book_card.dart` ìƒì„±
- [ ] í‘œì§€ ì´ë¯¸ì§€ (ë˜ëŠ” ê¸°ë³¸ ì•„ì´ì½˜)
- [ ] ì œëª©, ì¶œíŒì‚¬
- [ ] ì§„í–‰ë¥  ë°” (registeredPages.length / totalPages * 100)
- [ ] íƒ­ â†’ `context.push('/my-books/$bookId')`

### 5. ì±… ë“±ë¡ ìœ„ìë“œ ìƒì„±
- [ ] `pages/book_register_wizard.dart` ìƒì„±
- [ ] PageView + 4ë‹¨ê³„ êµ¬í˜„
- [ ] Step 1: í‘œì§€ ì´¬ì˜ (ImagePicker ì‚¬ìš©)
- [ ] Step 2: ì •ë³´ ì…ë ¥ (TextFormField + DropdownButton)
- [ ] Step 3: ìœ ì‚¬ ì±… ê²€ìƒ‰ (ì¼ë‹¨ "ê²€ìƒ‰ ì¤‘..." â†’ "ìƒˆë¡œ ë“±ë¡" ë²„íŠ¼ë§Œ)
- [ ] Step 4: ì™„ë£Œ + ì €ì¥
- [ ] ê° ë‹¨ê³„ safePrint ë¡œê·¸: `[Register] Step $step ì§„ì…`

### 6. ì±… ìƒì„¸ í˜ì´ì§€ ìƒì„±
- [ ] `pages/book_detail_page.dart` ìƒì„±
- [ ] ìƒë‹¨: ì±… ì •ë³´ (í‘œì§€, ì œëª©, ì¶œíŒì‚¬, ì§„í–‰ë¥ )
- [ ] ì¤‘ì•™: í˜ì´ì§€ ë§µ ìœ„ì ¯
- [ ] í•˜ë‹¨: "ì •ë‹µì§€ ë“±ë¡" / "ë¬¸ì œ ì´¬ì˜" ë²„íŠ¼ (íƒ­ ì‹œ ìŠ¤ë‚µë°” "ì¤€ë¹„ ì¤‘")
- [ ] safePrint ë¡œê·¸: `[BookDetail] ì§„ì…: $bookId`

### 7. í˜ì´ì§€ ë§µ ìœ„ì ¯ ìƒì„±
- [ ] `widgets/page_map_widget.dart` ìƒì„±
- [ ] 10í˜ì´ì§€ ë‹¨ìœ„ë¡œ í–‰ í‘œì‹œ (1-10, 11-20, ...)
- [ ] ë“±ë¡ëœ í˜ì´ì§€: ì´ˆë¡ìƒ‰, ë¯¸ë“±ë¡: íšŒìƒ‰
- [ ] ê°€ë¡œ ìŠ¤í¬ë¡¤ ê°€ëŠ¥

### 8. ë¼ìš°í„° ì¶”ê°€
- [ ] `app_router.dart` ìˆ˜ì •
- [ ] ì¶”ê°€í•  ë¼ìš°íŠ¸:
```dart
// OCR í…ŒìŠ¤íŠ¸ ë¼ìš°íŠ¸ ì•„ë˜ì— ì¶”ê°€ (ì•½ 170ì¤„ ê·¼ì²˜)
GoRoute(
  path: '/my-books',
  builder: (_, __) => const MyBooksPage(),
),
GoRoute(
  path: '/my-books/register',
  builder: (_, __) => const BookRegisterWizard(),
),
GoRoute(
  path: '/my-books/:bookId',
  builder: (context, state) {
    final bookId = state.pathParameters['bookId'] ?? '';
    return BookDetailPage(bookId: bookId);
  },
),
```

### 9. flutter analyze
- [ ] flutter analyze ì‹¤í–‰
- [ ] ì—ëŸ¬/ê²½ê³  0ê°œ í™•ì¸

### 10. í…ŒìŠ¤íŠ¸ (í° ë¹Œë“œ)
- [ ] flutter run -d RFCY40MNBLL
- [ ] í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ ì‹¤í–‰

---

## ê²€ì¦ ê·œì¹™ (v7.3)

- ì—ëŸ¬ ë©”ì‹œì§€ë§Œ ë³´ê³  ì‹¤íŒ¨ íŒì • ê¸ˆì§€
- ì‹¤ì œ í™”ë©´/ë™ì‘ í™•ì¸ í›„ íŒì •

---

## âš ï¸ Opus í•„ìˆ˜: ë¡œê·¸ ì§ì ‘ í™•ì¸!

**ë³´ê³ ì„œë§Œ ì½ì§€ ë§ê³ , ë¡œê·¸ íŒŒì¼ë„ ì§ì ‘ í™•ì¸í•  ê²ƒ!**

```
í™•ì¸í•  ë¡œê·¸:
- ai_bridge/logs/big_101_step_XX.log
- í° ë¹Œë“œ ì‹œ: Flutter ì½˜ì†” ë¡œê·¸ (safePrint ì¶œë ¥)
```

**ë¡œê·¸ì—ì„œ í™•ì¸í•  ê²ƒ:**
1. `[MyBooks]` ë¡œê·¸ ì¶œë ¥ë˜ë‚˜?
2. `[LocalBookRepo]` ì €ì¥/ì¡°íšŒ ë¡œê·¸ ë‚˜ì˜¤ë‚˜?
3. `[Register]` Step ì „í™˜ ë¡œê·¸ ë‚˜ì˜¤ë‚˜?

---

## ë¡œê·¸ ì €ì¥

ê° ìŠ¤ëª°ìŠ¤í… ì™„ë£Œ ì‹œ:
- ai_bridge/logs/big_101_step_XX.log

---

## ì™„ë£Œ ì¡°ê±´

1. `/my-books` ì§„ì… ì‹œ ëª©ë¡ í˜ì´ì§€ ë Œë”ë§
2. ìœ„ìë“œ 4ë‹¨ê³„ ì •ìƒ ë™ì‘ (ë’¤ë¡œê°€ê¸° í¬í•¨)
3. ë“±ë¡í•œ ì±…ì´ ëª©ë¡ì— í‘œì‹œë¨
4. ì±… ìƒì„¸ í˜ì´ì§€ì—ì„œ í˜ì´ì§€ ë§µ í‘œì‹œë¨
5. flutter analyze ì—ëŸ¬ 0ê°œ
6. CPê°€ "í…ŒìŠ¤íŠ¸ ì¢…ë£Œ" ì…ë ¥
7. ë³´ê³ ì„œ ì‘ì„± ì™„ë£Œ (ai_bridge/report/big_101_report.md)
