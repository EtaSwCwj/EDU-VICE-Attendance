# BIG_104 테스트 지시서

> 생성일: 2024-12-28
> 목표: 초기화 버그 + 책 수정 + 촬영 이미지 저장 테스트

---

## 환경

- 프로젝트: `C:\gitproject\EDU-VICE-Attendance`
- Flutter 앱: `flutter_application_1/`
- 폰: `RFCY40MNBLL`

---

## ⚠️ Opus CLI 실행 규칙

```bash
claude --model claude-sonnet-4-20250514 --dangerously-skip-permissions -p "작업 내용"
```

---

## 스몰스텝

### STEP 1: flutter analyze

```bash
cd C:\gitproject\EDU-VICE-Attendance\flutter_application_1
flutter analyze
```

- [ ] 에러 0개 확인
- [ ] 로그 저장: `ai_bridge/logs/big_104_test_step_01.log`

### STEP 2: 폰 빌드

```bash
flutter run -d RFCY40MNBLL
```

- [ ] 빌드 성공
- [ ] 로그 저장: `ai_bridge/logs/big_104_test_step_02.log`

### STEP 3: CP 테스트 대기

- [ ] 테스트 시나리오 1~6 진행
- [ ] CP 피드백 수집

### STEP 4: 보고서 작성

- [ ] CP "테스트 종료" 입력 시
- [ ] `ai_bridge/report/big_104_test_report.md` 작성

---

## 🎯 CP 테스트 시나리오

### 시나리오 1: 등록 페이지 초기화 (버그 수정 확인)

```
[사전 조건] 정답지가 등록된 책 준비 (30개 페이지 등록 상태)

1. 책 상세 페이지 진입
2. 우측 상단 메뉴 (⋮) 클릭
3. "등록 페이지 초기화" 선택
4. 확인 다이얼로그 → "초기화" 클릭

[확인]
✅ "등록 페이지가 초기화되었습니다" 스낵바
✅ 등록된 정답지 페이지 (0개) 로 변경
✅ 페이지 맵이 모두 회색으로 변경
✅ 진행률 0% 표시
```

### 시나리오 2: 촬영 기록 초기화

```
[사전 조건] 촬영 기록이 있는 책

1. 책 상세 페이지 진입
2. 우측 상단 메뉴 (⋮) 클릭
3. "촬영 기록 초기화" 선택
4. 확인 다이얼로그 → "초기화" 클릭

[확인]
✅ "촬영 기록이 초기화되었습니다" 스낵바
✅ 문제 촬영 기록 (0건) 으로 변경
✅ 총 0페이지 표시
```

### 시나리오 3: 책 정보 수정 - 기본 정보

```
1. 책 상세 페이지 진입
2. 우측 상단 메뉴 (⋮) 클릭
3. "책 정보 수정" 선택
4. 책 수정 페이지 진입 확인

[확인 - 화면 구성]
✅ 기본 정보 카드 표시
   - 제목 입력 필드 (기존 값)
   - 출판사 입력 필드 (기존 값)
   - 과목 드롭다운 (기존 값)
✅ 분권별 페이지 범위 카드 표시

5. 제목 수정: "GRAMMAR EFFECT" → "GRAMMAR EFFECT 2"
6. 저장 버튼 클릭

[확인]
✅ "책 정보가 저장되었습니다" 스낵바
✅ 책 상세로 자동 복귀
✅ 제목이 "GRAMMAR EFFECT 2"로 변경됨
```

### 시나리오 4: 책 정보 수정 - 분권별 페이지 범위

```
1. 책 상세 → 메뉴 → "책 정보 수정"
2. 분권별 페이지 범위 섹션 확인

[확인 - UI]
✅ 각 Volume마다 시작/끝 페이지 입력 필드
✅ "총 X 페이지" 실시간 계산 표시

3. 본책 범위 입력:
   - 시작: 1
   - 끝: 19
4. Work Book 범위 입력:
   - 시작: 1  
   - 끝: 12
5. 저장 버튼 클릭

[확인]
✅ 저장 성공 스낵바
✅ 책 상세로 복귀
✅ "페이지 범위 미설정!" 경고가 사라짐
✅ 분권별 범위에 ✅ p.1~19 / ✅ p.1~12 표시
```

### 시나리오 5: 문제 촬영 + 이미지 저장

```
1. 책 상세 → "문제 촬영" 버튼
2. Volume 선택 (본책)
3. "촬영 시작" 버튼

[카메라 화면]
4. 책 페이지 촬영
5. 페이지 번호 확인 (또는 수정)
6. "확인" 버튼

[확인 - 촬영 후]
✅ "Xp 촬영 저장됨 (본책)" 스낵바
✅ "이번 세션 촬영 (1건)" 녹색 박스에 기록
✅ 전체 촬영 기록에도 추가됨

7. "촬영 완료" 버튼으로 책 상세 복귀
```

### 시나리오 6: 촬영 이미지 썸네일 + 전체화면

```
1. 책 상세 페이지
2. "문제 촬영 기록" 섹션 펼치기

[확인 - 썸네일]
✅ 각 촬영 기록에 이미지 썸네일 표시 (60x60)
✅ 페이지 번호 + Volume + 시간 표시

3. 썸네일 이미지 탭

[확인 - 전체화면 뷰어]
✅ 검은 배경 전체화면
✅ 이미지 표시
✅ 핀치 줌 (확대/축소) 가능
✅ X 버튼으로 닫기 → 책 상세로 복귀
```

---

## 🔍 추가 확인 사항 (UI 플로우)

### 책 수정 페이지 UI
- [ ] 키보드 올라올 때 입력 필드 가려지지 않는지
- [ ] 분권이 여러 개일 때 스크롤 잘 되는지
- [ ] 페이지 번호 숫자만 입력되는지

### 촬영 기록 UI
- [ ] 5건 초과 시 "... 외 X건 더 있음" 표시
- [ ] 이미지 없는 기록은 썸네일 없이 표시
- [ ] 최신순 정렬되는지

### 전체화면 뷰어
- [ ] 가로/세로 회전 시 이미지 적응
- [ ] 뒤로가기 버튼/제스처 동작

---

## 완료 조건

1. flutter analyze 에러 0개
2. 빌드 성공
3. 시나리오 1~6 통과
4. UI 플로우 이상 없음
5. 보고서 작성
